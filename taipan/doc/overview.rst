System overview
===============

This page is designed to provide a high-level overview of how the
tiling system works. This overview predominantly covers the
:ref:`taipan <taipan>`
module; users should review the TaipanDB documentation for how this is
interfaced with the database system. Simulator/scheduling operations
are described elsewhere (TBD).

:any:`TaipanTarget` objects
---------------------------

:any:`TaipanTarget` objects are basic representations of an astronomical target
for the Taipan survey. The same object class is used to represent all target
types, except for sky fibre positions (see
:ref:`fibrealloc` below). Each :any:`TaipanTarget` object has a set of
Boolean flags denoting which target type(s) it is (it is valid to have a
target used for multiple types; this is not used for Taipan, but, e.g.,
FunnelWeb targets can also act as standard targets as appropriate).

:any:`TaipanTile` objects
-------------------------

:any:`TaipanTile` objects are used to represent configurations of the TAIPAN
instrument. In essence, they are mappings of fibre numbers to
:any:`TaipanTarget` objects already in memory; the position of the fibre
is determined by the recorded position of the mapped :any:`TaipanTarget`.

Generating tiles
----------------

Tiles may be generated by:

- Creating a new :any:`TaipanTile` object
- Use the :any:`TaipanTile.unpick_tile` function to assign
  targets to the tile from a pre-loaded list of
  candidate :any:`TaipanTarget` objects
- (Optionally) use the :any:`TaipanTile.repick_tile` function to ensure
  the optimal assignment of fibres to targets (in terms of fibre travel
  distance)

Target selection
++++++++++++++++

.. _fibrealloc:

Fibre allocation
++++++++++++++++


